<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeltaDesk - Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        header p {
            font-size: 1.3em;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }

        nav {
            background: #2d3748;
            color: white;
            padding: 15px 40px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 5px;
            transition: background 0.3s;
            font-size: 0.9em;
        }

        nav a:hover {
            background: #4a5568;
        }

        main {
            padding: 40px;
        }

        section {
            margin-bottom: 50px;
        }

        h2 {
            color: #4a90e2;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #4a90e2;
        }

        h3 {
            color: #357abd;
            font-size: 1.3em;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        p {
            margin-bottom: 15px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #4a90e2;
        }

        .feature-card h4 {
            color: #4a90e2;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .feature-card p {
            color: #64748b;
            font-size: 0.95em;
            margin: 0;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .tech-badge {
            background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .code-block .comment {
            color: #64748b;
        }

        .code-block .string {
            color: #a5d6ff;
        }

        .code-block .keyword {
            color: #ff7b72;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        th {
            background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #e2e8f0;
        }

        tr:hover {
            background: #f7fafc;
        }

        .info-box {
            background: #ebf8ff;
            border-left: 5px solid #4299e1;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning-box {
            background: #fffaf0;
            border-left: 5px solid #ed8936;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .success-box {
            background: #f0fff4;
            border-left: 5px solid #48bb78;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .step-list {
            counter-reset: step-counter;
            list-style: none;
            margin: 20px 0;
        }

        .step-list li {
            counter-increment: step-counter;
            margin-bottom: 20px;
            padding-left: 50px;
            position: relative;
        }

        .step-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .step-list h4 {
            color: #333;
            margin-bottom: 10px;
        }

        .project-tree {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            line-height: 1.8;
        }

        .project-tree .folder {
            color: #4a90e2;
            font-weight: 600;
        }

        .project-tree .comment {
            color: #64748b;
            font-style: italic;
        }

        .endpoint-group {
            margin-bottom: 25px;
        }

        .endpoint {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            background: #f8fafc;
            border-radius: 6px;
            margin-bottom: 8px;
            border: 1px solid #e2e8f0;
        }

        .method {
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: 600;
            margin-right: 15px;
            min-width: 60px;
            text-align: center;
        }

        .method.get { background: #d1fae5; color: #065f46; }
        .method.post { background: #dbeafe; color: #1e40af; }
        .method.delete { background: #fee2e2; color: #991b1b; }

        .endpoint-path {
            font-family: 'Consolas', 'Monaco', monospace;
            color: #333;
        }

        .endpoint-desc {
            color: #64748b;
            margin-left: auto;
            font-size: 0.9em;
        }

        footer {
            background: #2d3748;
            color: white;
            padding: 30px;
            text-align: center;
        }

        footer a {
            color: #93c5fd;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }

            .endpoint {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .endpoint-desc {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>DeltaDesk</h1>
            <p>Monte Carlo Option Pricing & Portfolio Management System</p>
        </header>

        <nav>
            <ul>
                <li><a href="#features">Features</a></li>
                <li><a href="#tech-stack">Tech Stack</a></li>
                <li><a href="#setup">Setup</a></li>
                <li><a href="#structure">Project Structure</a></li>
                <li><a href="#api">API Reference</a></li>
                <li><a href="#simulation">Simulation Modes</a></li>
                <li><a href="#usage">GUI Usage</a></li>
            </ul>
        </nav>

        <main>
            <!-- Features Section -->
            <section id="features">
                <h2>Features</h2>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>Multi-Exchange Support</h4>
                        <p>Track stocks across NYSE, NASDAQ, and other major exchanges with full exchange metadata.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Real-Time Stock Prices</h4>
                        <p>Automatic price updates every 5 minutes via Alpaca Markets API integration.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Exotic Option Pricing</h4>
                        <p>Price 6 option types: European, Asian, Digital, Barrier, Lookback, and Range options.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Greeks Calculation</h4>
                        <p>Full Greeks suite: Delta, Gamma, Vega, Theta, and Rho for all option types.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Portfolio Management</h4>
                        <p>Track multiple portfolios with cash balances, positions, and real-time P&L.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Trade Recording</h4>
                        <p>Buy/sell both stocks and options with automatic position and cash updates.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Variance Reduction</h4>
                        <p>Multiple simulation modes including Antithetic Variates, Control Variates, and Quasi-Random sequences.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Web GUI</h4>
                        <p>Clean, responsive interface for all operations - no command line needed.</p>
                    </div>
                </div>
            </section>

            <!-- Tech Stack Section -->
            <section id="tech-stack">
                <h2>Tech Stack</h2>

                <div class="tech-stack">
                    <span class="tech-badge">.NET 9.0</span>
                    <span class="tech-badge">ASP.NET Core</span>
                    <span class="tech-badge">PostgreSQL 16</span>
                    <span class="tech-badge">Entity Framework Core</span>
                    <span class="tech-badge">Alpaca Markets API</span>
                    <span class="tech-badge">JavaScript</span>
                    <span class="tech-badge">HTML5 / CSS3</span>
                </div>

                <div class="info-box">
                    <h4>Prerequisites</h4>
                    <ul>
                        <li><strong>.NET 9.0 SDK</strong> - <a href="https://dotnet.microsoft.com/download/dotnet/9.0" target="_blank">Download</a></li>
                        <li><strong>PostgreSQL 16</strong> - <a href="https://www.postgresql.org/download/" target="_blank">Download</a></li>
                        <li><strong>Alpaca Markets Account</strong> - <a href="https://alpaca.markets/" target="_blank">Sign up (free tier works)</a></li>
                    </ul>
                </div>
            </section>

            <!-- Setup Section -->
            <section id="setup">
                <h2>Setup Instructions</h2>

                <ol class="step-list">
                    <li>
                        <h4>Clone the Repository</h4>
                        <div class="code-block">
git clone &lt;repository-url&gt;
cd MonteCarloSolution2
                        </div>
                    </li>
                    <li>
                        <h4>Create PostgreSQL Database</h4>
                        <div class="code-block">
<span class="keyword">CREATE DATABASE</span> montecarlo_dev;
                        </div>
                    </li>
                    <li>
                        <h4>Configure API Keys</h4>
                        <p>Update <code>MonteCarloAPI/appsettings.Development.json</code>:</p>
                        <div class="code-block">
{
  <span class="string">"ConnectionStrings"</span>: {
    <span class="string">"DefaultConnection"</span>: <span class="string">"Host=localhost;Port=5432;Database=montecarlo_dev;Username=your_username;Password=your_password"</span>
  },
  <span class="string">"Alpaca"</span>: {
    <span class="string">"ApiKey"</span>: <span class="string">"your_alpaca_api_key"</span>,
    <span class="string">"ApiSecret"</span>: <span class="string">"your_alpaca_api_secret"</span>
  }
}
                        </div>
                    </li>
                    <li>
                        <h4>Run Database Migrations</h4>
                        <div class="code-block">
cd MonteCarloAPI
dotnet ef database update
                        </div>
                    </li>
                    <li>
                        <h4>Run the Application</h4>
                        <div class="code-block">
dotnet run
                        </div>
                        <div class="success-box">
                            The application will be available at <strong>http://localhost:5262</strong>
                        </div>
                    </li>
                </ol>
            </section>

            <!-- Project Structure Section -->
            <section id="structure">
                <h2>Project Structure</h2>

                <div class="project-tree">
                    <span class="folder">MonteCarloSolution2/</span><br>
                    ├── <span class="folder">MonteCarloAPI/</span> <span class="comment"># ASP.NET Core Web API</span><br>
                    │   ├── <span class="folder">Controllers/</span> <span class="comment"># API endpoints</span><br>
                    │   ├── <span class="folder">Services/</span> <span class="comment"># Business logic</span><br>
                    │   ├── <span class="folder">Data/</span> <span class="comment"># EF entities & DbContext</span><br>
                    │   ├── <span class="folder">Models/</span> <span class="comment"># DTOs</span><br>
                    │   ├── <span class="folder">Configuration/</span> <span class="comment"># Rate curves, settings</span><br>
                    │   ├── <span class="folder">Migrations/</span> <span class="comment"># EF Core migrations</span><br>
                    │   └── <span class="folder">wwwroot/</span> <span class="comment"># Static files (GUI)</span><br>
                    │       ├── index.html<br>
                    │       ├── <span class="folder">css/</span><br>
                    │       └── <span class="folder">js/</span><br>
                    ├── <span class="folder">MonteCarloOptionPricer/</span> <span class="comment"># Pricing library</span><br>
                    │   ├── <span class="folder">Options/</span> <span class="comment"># Option implementations</span><br>
                    │   ├── <span class="folder">Simulation/</span> <span class="comment"># Path generation</span><br>
                    │   └── <span class="folder">Greeks/</span> <span class="comment"># Greeks calculation</span><br>
                    └── <span class="folder">MonteCarlo2.0/</span> <span class="comment"># Console app (legacy)</span>
                </div>
            </section>

            <!-- API Reference Section -->
            <section id="api">
                <h2>API Reference</h2>

                <div class="endpoint-group">
                    <h3>Stocks</h3>
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/stock</span>
                        <span class="endpoint-desc">List all stocks</span>
                    </div>
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/stock/{id}</span>
                        <span class="endpoint-desc">Get stock by ID</span>
                    </div>
                    <div class="endpoint">
                        <span class="method post">POST</span>
                        <span class="endpoint-path">/api/stock</span>
                        <span class="endpoint-desc">Create stock</span>
                    </div>
                </div>

                <div class="endpoint-group">
                    <h3>Options</h3>
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/options</span>
                        <span class="endpoint-desc">List all options</span>
                    </div>
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/options/{id}</span>
                        <span class="endpoint-desc">Get option by ID</span>
                    </div>
                    <div class="endpoint">
                        <span class="method post">POST</span>
                        <span class="endpoint-path">/api/options</span>
                        <span class="endpoint-desc">Create option</span>
                    </div>
                    <div class="endpoint">
                        <span class="method delete">DELETE</span>
                        <span class="endpoint-path">/api/options/{id}</span>
                        <span class="endpoint-desc">Delete option</span>
                    </div>
                </div>

                <div class="endpoint-group">
                    <h3>Pricing</h3>
                    <div class="endpoint">
                        <span class="method post">POST</span>
                        <span class="endpoint-path">/api/pricing/{optionId}</span>
                        <span class="endpoint-desc">Price an option</span>
                    </div>
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/pricing/history/{optionId}</span>
                        <span class="endpoint-desc">Get pricing history</span>
                    </div>
                </div>

                <div class="endpoint-group">
                    <h3>Portfolios</h3>
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/portfolio</span>
                        <span class="endpoint-desc">List portfolios</span>
                    </div>
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/portfolio/{id}</span>
                        <span class="endpoint-desc">Get portfolio details</span>
                    </div>
                    <div class="endpoint">
                        <span class="method post">POST</span>
                        <span class="endpoint-path">/api/portfolio</span>
                        <span class="endpoint-desc">Create portfolio</span>
                    </div>
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/portfolio/{id}/valuation</span>
                        <span class="endpoint-desc">Get portfolio valuation with P&L</span>
                    </div>
                </div>

                <div class="endpoint-group">
                    <h3>Trades</h3>
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/portfolio/{id}/trades</span>
                        <span class="endpoint-desc">List trades</span>
                    </div>
                    <div class="endpoint">
                        <span class="method post">POST</span>
                        <span class="endpoint-path">/api/portfolio/{id}/trades</span>
                        <span class="endpoint-desc">Record a trade</span>
                    </div>
                    <div class="endpoint">
                        <span class="method delete">DELETE</span>
                        <span class="endpoint-path">/api/portfolio/{portfolioId}/trades/{tradeId}</span>
                        <span class="endpoint-desc">Delete trade</span>
                    </div>
                </div>
            </section>

            <!-- Simulation Modes Section -->
            <section id="simulation">
                <h2>Simulation Modes</h2>

                <table>
                    <tr>
                        <th>Mode</th>
                        <th>Value</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td><strong>Plain Monte Carlo</strong></td>
                        <td>0</td>
                        <td>Standard Monte Carlo simulation with random paths</td>
                    </tr>
                    <tr>
                        <td><strong>Antithetic Variates</strong></td>
                        <td>1</td>
                        <td>Reduces variance by using negatively correlated path pairs</td>
                    </tr>
                    <tr>
                        <td><strong>Control Variates</strong></td>
                        <td>2</td>
                        <td>Uses a known analytical solution to reduce variance</td>
                    </tr>
                    <tr>
                        <td><strong>Antithetic + Control</strong></td>
                        <td>3</td>
                        <td>Combines both variance reduction techniques</td>
                    </tr>
                    <tr>
                        <td><strong>Quasi-Random</strong></td>
                        <td>4</td>
                        <td>Van Der Corput sequence for more uniform coverage</td>
                    </tr>
                </table>

                <div class="info-box">
                    <h4>Choosing a Simulation Mode</h4>
                    <p>For most use cases, <strong>Mode 3 (Antithetic + Control)</strong> provides the best balance of accuracy and speed. Use <strong>Mode 4 (Quasi-Random)</strong> when you need very consistent results across runs.</p>
                </div>
            </section>

            <!-- GUI Usage Section -->
            <section id="usage">
                <h2>GUI Usage Guide</h2>

                <ol class="step-list">
                    <li>
                        <h4>Create a Portfolio</h4>
                        <p>Click <strong>"+ New Portfolio"</strong> on the home dashboard. Enter a name and initial cash balance.</p>
                    </li>
                    <li>
                        <h4>View Available Stocks</h4>
                        <p>Navigate to <strong>"View Stocks"</strong> to see all available underlying assets with real-time prices.</p>
                    </li>
                    <li>
                        <h4>Create Options</h4>
                        <p>Go to <strong>"Create Options"</strong> to define exotic options. Select the underlying, option type, strike, expiry, and type-specific parameters.</p>
                    </li>
                    <li>
                        <h4>Record Trades</h4>
                        <p>Use <strong>"Input Trades"</strong> to buy or sell stocks and options. You can price options before trading.</p>
                    </li>
                    <li>
                        <h4>Monitor Positions</h4>
                        <p>Check <strong>"View Positions"</strong> to see your current holdings and their valuations.</p>
                    </li>
                    <li>
                        <h4>Price Your Portfolio</h4>
                        <p>Select a portfolio on the home page and click <strong>"Update P&L"</strong> to run Monte Carlo valuation on all positions.</p>
                    </li>
                </ol>

                <div class="success-box">
                    <h4>Pro Tip</h4>
                    <p>Click on any <strong>option row</strong> in the trades table to quickly price that specific option with custom market parameters!</p>
                </div>
            </section>
        </main>

        <footer>
            <p><strong>DeltaDesk</strong> - Monte Carlo Option Pricing & Portfolio Management</p>
            <p style="margin-top: 10px;">.NET 9.0 | Entity Framework Core | PostgreSQL 16 | Alpaca Markets API</p>
            <p style="margin-top: 15px; opacity: 0.7;">
                See also: <a href="DATA_MODEL_GUIDE.html">Data Model Guide</a>
            </p>
        </footer>
    </div>
</body>
</html>
